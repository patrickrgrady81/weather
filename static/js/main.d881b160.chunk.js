(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{31:function(e,t,a){e.exports=a(53)},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),i=a(14),s=a(6),l=a(17),u=a(3),p=a(29),m=a(30),d=a(4),h={city:"Philadelphia, PA",weather:null,hourly:null,daily:null,map:null,restaurants:null,events:null,loggedIn:!1,email:null,loading:"idle"},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CITY":return Object(d.a)(Object(d.a)({},e),{},{city:t.city});case"UPDATE_MAP":return Object(d.a)(Object(d.a)({},e),{},{map:t.map});case"UPDATE_DAILY":return Object(d.a)(Object(d.a)({},e),{},{daily:t.daily});case"UPDATE_HOURLY":return Object(d.a)(Object(d.a)({},e),{},{hourly:t.hourly});case"UPDATE_WEATHER":return Object(d.a)(Object(d.a)({},e),{},{weather:t.weather});case"UPDATE_RESTAURANTS":return Object(d.a)(Object(d.a)({},e),{},{restaurants:t.restaurants});case"UPDATE_EVENTS":return Object(d.a)(Object(d.a)({},e),{},{events:t.events});case"LOGIN":return Object(d.a)(Object(d.a)({},e),{},{loggedIn:!0,email:t.email});case"START_LOADING":return Object(d.a)(Object(d.a)({},e),{},{loading:"pending"});case"LOADING_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{loading:"success"});case"LOADING_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{loading:"failure"});default:return e}},f=a(1),v=a.n(f),E=a(5),g=a(7),w=a(15),b=a(9),j=a(8),O=function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r,c,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"EtyXXVE9Ky0eBwniVcww2Zlu8DmFmc7F",n="https://www.mapquestapi.com/geocoding/v1/address?key=".concat("EtyXXVE9Ky0eBwniVcww2Zlu8DmFmc7F","&inFormat=kvp&outFormat=json&location=").concat(e),r={method:"GET",headers:{}},t.next=5,fetch(n,r);case 5:return c=t.sent,t.next=8,c.json();case 8:o=t.sent,i="".concat(o.results[0].locations[0].adminArea5,", ").concat(o.results[0].locations[0].adminArea3),a({type:"UPDATE_CITY",city:i});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=(a(41),function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).render=function(){return r.a.createElement("div",null,r.a.createElement("nav",null,r.a.createElement("h2",{className:"nav-city"},n.props.city),r.a.createElement("form",{className:"nav-form",onSubmit:n.go},r.a.createElement("input",{className:"nav-input",type:"text",placeholder:"Search City",onChange:n.changer,value:n.state.searchValue}),r.a.createElement("button",{className:"nav-btn",onClick:n.go},"Go")),r.a.createElement("ul",{className:"nav-pages"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/weather"},"Weather")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/restaurants"},"Restaurants")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/events"},"Events"))),r.a.createElement("ul",{className:"nav-log"},n.getLog())))},n.getLog=function(){return!1===n.props.loggedIn?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/signup"},"Sign Up")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"Log In"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/profile/".concat(n.props.email)},n.props.email)))},n.changer=function(e){n.setState({searchValue:e.target.value})},n.go=function(e){e.preventDefault(),n.props.getLatLng(n.state.searchValue)},n.state={searchValue:""},n}return a}(n.Component)),_=Object(u.b)((function(e){return{loggedIn:e.loggedIn,city:e.city,email:e.email}}),(function(e){return{getLatLng:function(t){return e(O(t))}}}))(k),D=(a(43),Object(u.b)((function(e){return{map:e.map}}))((function(e){return e.map?r.a.createElement("div",{className:"map-div"},r.a.createElement("img",{width:"600",height:"300",src:e.map,alt:"your town",className:"map"})):r.a.createElement("h2",null,"Can't display map")}))),x=(a(44),function(e){return e.toLocaleDateString("en-US")}),N=function(e,t){if(e.weather.temp){var a=new Date(t),n=a.getHours(),r=n>=12?"PM":"AM";n=0===(n=n>12?n-12:n)?12:n;var c=a.getMinutes(),o=c<10?"0".concat(c):"".concat(c),i=a.getSeconds(),s=i<10?"0".concat(i):"".concat(i);return"".concat(n,":").concat(o,":").concat(s," ").concat(r)}},C=function(e){var t=e.weather.precipitation_type.value,a=e.weather.precipitation.value,n=e.weather.precipitation.units;return"none"===t?"None":"".concat(t,": ").concat(a).concat(n)},T=function(e){if(e.weather.sunrise)return N(e,e.weather.sunrise.value)},S=function(e){if(e.weather.sunset)return N(e,e.weather.sunset.value)},A=function(e){var t=e.weather.wind_direction;return t.value<=45||t.value>315?"N":t.value>45&&t.value<=135?"W":t.value>135&&t.value<225?"S":"E"},L=Object(u.b)((function(e){return{weather:e.weather}}))((function(e){return e.weather&&!e.weather.message?r.a.createElement("div",{key:"currentWeatherDiv",className:"current"},r.a.createElement("h1",{key:"ch11"},e.weather?"":"Getting Current Weather Conditions"),r.a.createElement("ul",{key:"currentul",className:"currentWeatherList"},r.a.createElement("li",{key:"curli0"},r.a.createElement("h3",{key:"ch21"},e.weather?"".concat(e.weather.weather_code.value.toUpperCase().replace("_"," ")):"")),r.a.createElement("li",{key:"curli1"},e.weather?"Current Temperature: ".concat(e.weather.temp.value,"\xb0\n                  ").concat(e.weather.temp.units):""),r.a.createElement("li",{key:"curli2"},e.weather?"Feels Like: ".concat(e.weather.feels_like.value,"\xb0\n                  ").concat(e.weather.feels_like.units):""),r.a.createElement("li",{key:"curli3"},e.weather?"Precipitation: ".concat(C(e)):""),r.a.createElement("li",{key:"curli4"},e.weather?"Cloud Cover: ".concat(e.weather.cloud_cover.value,"\n                  ").concat(e.weather.cloud_cover.units):""),r.a.createElement("li",{key:"curli5"},e.weather?"Wind Speed: ".concat(e.weather.wind_speed.value,"\n                  ").concat(e.weather.wind_speed.units," ").concat(A(e)):""),r.a.createElement("li",{key:"curli6"},e.weather?"Humidity: ".concat(e.weather.humidity.value," ").concat(e.weather.humidity.units):""),r.a.createElement("li",{key:"curli7"},e.weather?"Visibility: ".concat(e.weather.visibility.value," ").concat(e.weather.visibility.units):""),r.a.createElement("li",{key:"curli8"},e.weather?"Sunrise: ".concat(T(e)):""),r.a.createElement("li",{key:"curli9"},e.weather?"Sunset: ".concat(S(e)):"")),r.a.createElement("h2",{className:"current-h2",key:"ch12"},"(last updated: ",x(new Date)," at ",e.weather?"".concat(N(e,e.weather.observation_time.value),")"):"")):r.a.createElement(r.a.Fragment,null,"Loading Current Weather...")})),F=(a(45),function(e){var t=(e=new Date(e)).getHours(),a=t>=12?"PM":"AM";t=0===(t=t>12?t-12:t)?12:t;var n=e.getMinutes(),r=n<10?"0".concat(n):"".concat(n);return"".concat(t,":").concat(r," ").concat(a)}),I=Object(u.b)((function(e){return{hourly:e.hourly}}))((function(e){return e.hourly?r.a.createElement("div",{className:"hourly",key:"hourlydiv"},r.a.createElement("h2",{className:"hourly-h2",key:"hourlyh2"},"12 Hour Forecast"),r.a.createElement("ul",{className:"hourlyList",key:"hourlyul"},e.hourly.slice(1,13).map((function(e,t){return r.a.createElement("div",{key:"lihourdiv".concat(t)},r.a.createElement("h3",{key:"h2".concat(t)},"".concat(F(e.observation_time.value)," ")),r.a.createElement("li",{key:"cond".concat(t)},"Conditions: ".concat(e.weather_code.value.toLowerCase().replace("_"," "))),r.a.createElement("li",{key:"temp".concat(t)},"Temperature: ".concat(e.temp.value,"\xb0").concat(e.temp.units)),r.a.createElement("li",{key:"prec".concat(t)},"Precipitation: ".concat(e.precipitation_type.value.toLowerCase().replace("_"," ")," \n                        (").concat(e.precipitation.value," ").concat(e.precipitation.units,")")))})))):r.a.createElement(r.a.Fragment,null,"Loading Hourly Forecast...")})),U=(a(46),function(e){switch(e.getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"Unknown Day"}}),M=Object(u.b)((function(e){return{daily:e.daily}}))((function(e){return e.daily?r.a.createElement("div",{className:"daily"},r.a.createElement("h2",{className:"daily-h2"},"10 Day Forecast"),r.a.createElement("ul",{className:"dailyList"},e.daily.slice(2,12).map((function(e,t){return r.a.createElement("div",{key:"dailyDiv".concat(t)},r.a.createElement("h3",{key:"date".concat(t)},U(new Date(e.observation_time.value))),r.a.createElement("li",{key:"cond".concat(t)},"Conditions: ".concat(e.weather_code.value.toLowerCase().replace("_"," "))),r.a.createElement("li",{key:"temp".concat(t)},"Temperature: ".concat(e.temp[0].min.value).concat(e.temp[0].min.units," / \n                                  ").concat(e.temp[1].max.value).concat(e.temp[1].max.units)))})))):r.a.createElement(r.a.Fragment,null,"Loading Daily Weather...")})),P=(a(47),Object(u.b)((function(e){return{weather:e.weather}}))((function(e){return e.weather?r.a.createElement("div",{key:"outerdiv",className:"outerDiv"},r.a.createElement(I,null),r.a.createElement(L,null),r.a.createElement(M,null)):"Connection Error!"}))),V=(a(48),function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("div",{className:"app-container"},r.a.createElement(D,{className:"app-map",map:e.props.map})),r.a.createElement(P,null))},e.componentDidMount=function(){e.run()},e.run=Object(E.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getLatLng();case 2:return a=t.sent,t.next=5,e.getWeather(a);case 5:return t.next=7,e.getHourlyForecast(a);case 7:return t.next=9,e.getDailyForecast(a);case 9:case"end":return t.stop()}}),t)}))),e.getWeather=function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r,c,o,i,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"zGrM6qzBxMq30VjJcIKhZ7E2n7r7kD80","us","precipitation,precipitation_type,sunrise,sunset,visibility,cloud_cover,weather_code",n="temp,feels_like,wind_speed,dewpoint,humidity,wind_direction,baro_pressure,".concat("precipitation,precipitation_type,sunrise,sunset,visibility,cloud_cover,weather_code"),r="lat=".concat(a.lat,"&lon=").concat(a.lng,"&unit_system=").concat("us","&apikey=").concat("zGrM6qzBxMq30VjJcIKhZ7E2n7r7kD80","&fields=").concat(n),c="https://api.climacell.co/v3/weather/realtime?".concat(r),o={method:"GET",headers:{}},t.next=9,fetch(c,o);case 9:return i=t.sent,t.next=12,i.json();case 12:(s=t.sent).message||e.props.updateWeather(s);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getHourlyForecast=function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r,c,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"zGrM6qzBxMq30VjJcIKhZ7E2n7r7kD80","us","precipitation_type,precipitation,temp,weather_code",n="lat=".concat(a.lat,"&lon=").concat(a.lng,"&unit_system=").concat("us","&apikey=").concat("zGrM6qzBxMq30VjJcIKhZ7E2n7r7kD80","&fields=").concat("precipitation_type,precipitation,temp,weather_code","&start_time=now"),r="https://api.climacell.co/v3/weather/forecast/hourly?".concat(n),c={method:"GET",headers:{}},t.next=8,fetch(r,c);case 8:return o=t.sent,t.next=11,o.json();case 11:(i=t.sent).message||e.props.updateHourly(i);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDailyForecast=function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r,c,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"zGrM6qzBxMq30VjJcIKhZ7E2n7r7kD80","us","temp,precipitation,weather_code",n="lat=".concat(a.lat,"&lon=").concat(a.lng,"&unit_system=").concat("us","&start_time=now&apikey=").concat("zGrM6qzBxMq30VjJcIKhZ7E2n7r7kD80","&fields=").concat("temp,precipitation,weather_code"),r="https://api.climacell.co/v3/weather/forecast/daily?".concat(n),c={method:"GET",headers:{}},t.next=8,fetch(r,c);case 8:return o=t.sent,t.next=11,o.json();case 11:(i=t.sent).message||e.props.updateDaily(i);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getLatLng=Object(E.a)(v.a.mark((function t(){var a,n,r,c,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.city,"EtyXXVE9Ky0eBwniVcww2Zlu8DmFmc7F",n="https://www.mapquestapi.com/geocoding/v1/address?key=".concat("EtyXXVE9Ky0eBwniVcww2Zlu8DmFmc7F","&inFormat=kvp&outFormat=json&location=").concat(a),r={method:"GET",headers:{}},t.next=6,fetch(n,r);case 6:return c=t.sent,t.next=9,c.json();case 9:return o=t.sent,i=o.results[0].locations[0].displayLatLng,t.next=13,e.getMap(i);case 13:return e.props.updateCity("".concat(o.results[0].locations[0].adminArea5,", ").concat(o.results[0].locations[0].adminArea3)),t.abrupt("return",i);case 15:case"end":return t.stop()}}),t)}))),e.getMap=function(){var t=Object(E.a)(v.a.mark((function t(a){var n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"EtyXXVE9Ky0eBwniVcww2Zlu8DmFmc7F",n="https://www.mapquestapi.com/staticmap/v4/getplacemap?key=".concat("EtyXXVE9Ky0eBwniVcww2Zlu8DmFmc7F","&location=").concat(a.lat,",").concat(a.lng,"&size=600,300&type=map&zoom=11&imagetype=png&scalebar=false&traffic=flow"),e.props.updateMap(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(w.a)(a,[{key:"componentDidUpdate",value:function(e){e.city!==this.props.city&&this.run()}}]),a}(n.Component)),G=Object(u.b)((function(e){return{city:e.city,weather:e.weather,hourly:e.hourly,daily:e.daily,map:e.map}}),(function(e){return{updateCity:function(t){return e({type:"UPDATE_CITY",city:t})},updateMap:function(t){return e({type:"UPDATE_MAP",map:t})},updateDaily:function(t){return e({type:"UPDATE_DAILY",daily:t})},updateHourly:function(t){return e({type:"UPDATE_HOURLY",hourly:t})},updateWeather:function(t){return e({type:"UPDATE_WEATHER",weather:t})}}}))(V),q=(a(49),function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.a.createElement("div",{className:"settings"},r.a.createElement(_,null),r.a.createElement("h1",null,"Welcome ","".concat(e.props.email))," ")},e}return a}(n.Component)),R=Object(u.b)((function(e){return{loggedIn:e.loggedIn,email:e.email}}),(function(e){return{updateCity:function(t){return e({type:"UPDATE_CITY",city:t})}}}))(q),W=(a(50),function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(g.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return e.props.restaurants?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("div",{className:"rest-wrapper"},r.a.createElement("h1",{className:"rest-head"},"Highly Rated Restaurants in ",e.props.city),r.a.createElement("ul",{className:"rest-list"},"success"===e.props.loading?e.props.restaurants.map((function(e,t){return r.a.createElement("div",{className:"rest-container",key:"div".concat(t)},r.a.createElement("li",{key:"name".concat(t),className:"rest-name"},e.name),r.a.createElement("img",{className:"rest-img",key:"img".concat(t),src:"".concat(e.image_url),alt:"".concat(e.name)}),r.a.createElement("ul",{className:"rest-info"},r.a.createElement("li",{key:"cat".concat(t),className:"rest-cat"},e.categories[0].title),r.a.createElement("li",{key:"phone".concat(t)},e.display_phone),r.a.createElement("li",{key:"address".concat(t)},"".concat(e.location.address1)),r.a.createElement("li",{key:"city".concat(t)},"".concat(e.location.city,", ").concat(e.location.state," ").concat(e.location.zip_code))))})):"Loading..."))):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("h2",null,"Loading Restaurants in ",e.props.city,"..."))},e.componentDidMount=Object(E.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.updateRestaurants(e.props.city);case 2:case"end":return t.stop()}}),t)}))),e.componentDidUpdate=function(){var t=Object(E.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.city===e.props.city){t.next=5;break}return t.next=3,e.props.getLatLng(e.props.city);case 3:return t.next=5,e.props.updateRestaurants(e.props.city);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return a}(n.Component)),z=Object(u.b)((function(e){return{city:e.city,restaurants:e.restaurants,loading:e.loading}}),(function(e){return{getLatLng:function(t){return e(O(t))},updateRestaurants:function(t){return e(function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"START_LOADING"}),n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({city:e})},"https://pg-city-info.herokuapp.com/api/v1/restaurants",t.next=5,fetch("https://pg-city-info.herokuapp.com/api/v1/restaurants",n);case 5:return r=t.sent,t.next=8,r.json();case 8:c=t.sent,a({type:"LOADING_SUCCESS"}),a({type:"UPDATE_RESTAURANTS",restaurants:c});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(W),H=(a(51),function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).render=function(){return n.props.events?n.props.events.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("div",{className:"event-wrapper"},r.a.createElement("h1",null,"Upcoming Events in ",n.props.city),r.a.createElement("form",{onSubmit:n.handleForm},r.a.createElement("button",null,"Go")),r.a.createElement("ul",null,"success"===n.props.loading?n.state.searched?n.state.searchedEvents.map((function(e,t){return r.a.createElement("div",{key:"div".concat(t),className:"events-wrapper"},r.a.createElement("li",{key:"name".concat(t),className:"event-name"},e._embedded.events[0].name),r.a.createElement("li",{key:"venue".concat(t),className:"event-name"},e._embedded.events[0]._embedded.venues[0].name),r.a.createElement("li",{key:"class".concat(t),className:"event-name"},e._embedded.events[0].classifications[0].genre.name),r.a.createElement("li",{key:"date".concat(t),className:"event-name"},e._embedded.events[0].dates.start.localDate," @ ",e._embedded.events[0].dates.start.localTime))})):n.props.events.map((function(e,t){return r.a.createElement("div",{key:"div".concat(t),className:"events-wrapper"},r.a.createElement("li",{key:"name".concat(t),className:"event-name"},e._embedded.events[0].name),r.a.createElement("li",{key:"venue".concat(t),className:"event-name"},e._embedded.events[0]._embedded.venues[0].name),r.a.createElement("li",{key:"class".concat(t),className:"event-name"},e._embedded.events[0].classifications[0].genre.name),r.a.createElement("li",{key:"date".concat(t),className:"event-name"},e._embedded.events[0].dates.start.localDate," @ ",e._embedded.events[0].dates.start.localTime))})):"Loading..."))):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("h2",{className:"event-wrapper"},"Sorry, Can't Find Any Events Nearby")):r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("h2",null,"Loading Events in ",n.props.city,"..."))},n.handleChange=function(e){e.preventDefault(),n.setState({search:e.target.value})},n.handleForm=function(){var e=Object(E.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.state.search){e.next=3;break}return e.abrupt("return");case 3:a=[],n.props.events.forEach((function(e){e._embedded.events[0].classifications[0].genre.name.includes(n.state.search)&&a.push(e)})),n.setState({searched:!0,searchedEvents:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=function(){n.props.updateEvents(n.props.city)},n.state={search:"",searched:!1,searchEvents:[]},n}return Object(w.a)(a,[{key:"componentDidUpdate",value:function(e){e.city!==this.props.city&&(this.props.getLatLng(this.props.city),this.props.updateEvents(this.props.city))}}]),a}(n.Component)),B=Object(u.b)((function(e){return{city:e.city,events:e.events,loading:e.loading}}),(function(e){return{getLatLng:function(t){return e(O(t))},updateEvents:function(t){return e(function(e){return function(){var t=Object(E.a)(v.a.mark((function t(a){var n,r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"START_LOADING"}),n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({city:e})},"https://pg-city-info.herokuapp.com/api/v1/events",t.next=5,fetch("https://pg-city-info.herokuapp.com/api/v1/events",n);case 5:return r=t.sent,t.next=8,r.json();case 8:c=t.sent,a({type:"LOADING_SUCCESS"}),a({type:"UPDATE_EVENTS",events:c});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(H),J=a(18),K=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(E.a)(v.a.mark((function e(t){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"http://localhost:3001/api/v1/signup",a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:{email:n.state.email,password:n.state.password,password_confirmation:n.state.password_confirmation}})},e.next=5,fetch("http://localhost:3001/api/v1/signup",a);case 5:return r=e.sent,e.next=8,r.json();case 8:if(c=e.sent,console.log(c),!0!==c.created){e.next=13;break}return e.next=13,n.props.login(c.user.email,c.user.id);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){e.preventDefault(),n.setState(Object(J.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",password_confirmation:"",errors:""},n}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleChange,required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange,required:!0}),r.a.createElement("input",{type:"password",name:"password_confirmation",placeholder:"confirm password",value:this.state.password_confirmation,onChange:this.handleChange,required:!0}),r.a.createElement("button",{type:"submit"},"Sign Up")))}}]),a}(n.Component),X=Object(u.b)((function(e){return{city:e.city}}),(function(e){return{login:function(t){return e({type:"LOGIN",email:t})}}}))(K),Z=function(e){Object(b.a)(a,e);var t=Object(j.a)(a);function a(e){var n;return Object(g.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(E.a)(v.a.mark((function e(t){var a,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"http://localhost:3001/api/v1/login",a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:{email:n.state.email,password:n.state.password}})},e.next=5,fetch("http://localhost:3001/api/v1/login",a);case 5:return r=e.sent,e.next=8,r.json();case 8:if(c=e.sent,console.log(c),!0!==c.logged_in){e.next=13;break}return e.next=13,n.props.login(c.user.email,c.user.id);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){e.preventDefault(),n.setState(Object(J.a)({},e.target.name,e.target.value))},n.state={email:"",password:"",errors:""},n}return Object(w.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,null),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:this.state.email,onChange:this.handleChange,required:!0}),r.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:this.state.password,onChange:this.handleChange,required:!0}),r.a.createElement("button",{type:"submit"},"Log In")))}}]),a}(n.Component),Y=Object(u.b)((function(e){return{city:e.city}}),(function(e){return{login:function(t){return e({type:"LOGIN",email:t})}}}))(Z),Q=(a(52),Object(l.createStore)(y,Object(p.composeWithDevTools)(Object(l.applyMiddleware)(m.a))));o.a.render(r.a.createElement(u.a,{store:Q},r.a.createElement(i.a,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/"},r.a.createElement(G,null)),r.a.createElement(s.a,{exact:!0,path:"/weather"},r.a.createElement(G,null)),r.a.createElement(s.a,{exact:!0,path:"/profile/:email"},r.a.createElement(R,null)),r.a.createElement(s.a,{exact:!0,path:"/restaurants"},r.a.createElement(z,null)),r.a.createElement(s.a,{exact:!0,path:"/events"},r.a.createElement(B,null)),r.a.createElement(s.a,{exact:!0,path:"/signup"},r.a.createElement(X,null)),r.a.createElement(s.a,{exact:!0,path:"/login"},r.a.createElement(Y,null))))),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.d881b160.chunk.js.map